<app-sidebar>
    <div class="w-full flex flex-col justify-center items-center">
        <h1 class="text-4xl font-bold text-center my-6">Cadastrar Novo Colaborador</h1>
        <p class="text-center my-4 w-full lg:w-1/2">Aqui você pode adicionar um colaborador, incluindo informações relevantes.</p>
    </div>

    <div class="flex justify-center border-2 border-[#740318] m-4 p-8">
        <app-form [formGroup]="employeeForm" (ngSubmit)="onSubmit()" class="w-full bg-white p-8 rounded-lg">
            <ng-container *ngFor="let field of employeeFields.fields">
                <ng-container [ngSwitch]="field.component">
                    
                    <!-- Campo input para Nome do Colaborador -->
                    <label *ngSwitchCase="'input'" [for]="field.id" class="block w-full my-2 text-sm font-medium">{{ field.label }}</label>
                    <input 
                        *ngSwitchCase="'input'" 
                        [type]="field.type" 
                        [id]="field.id" 
                        [formControlName]="field.name" 
                        [placeholder]="field.placeholder" 
                        class="w-full my-2 border border-gray-300 p-3 rounded-lg min-h-[48px]" />
                    
                    <div *ngIf="employeeForm.get(field.name)?.invalid && employeeForm.get(field.name)?.touched" class="h-6">
                        <span *ngIf="field.validations && field.validations[0]">{{ field.validations[0].message }}</span>
                    </div>

                    <!-- Campo select para Fornecedor -->
                    <label *ngSwitchCase="'select'" [for]="field.id" class="block w-full my-2 text-sm font-medium">{{ field.label }}</label>
                    <select 
                        *ngSwitchCase="'select'" 
                        [id]="field.id" 
                        [formControlName]="field.name" 
                        class="w-full my-2 border border-gray-300 p-3 rounded-lg min-h-[48px]">
                        <option *ngFor="let option of field.options" [value]="option.value">{{ option.label }}</option>
                    </select>

                </ng-container>
            </ng-container>

            <button 
                type="submit" 
                class="bg-[#740318] hover:bg-[#740318c9] text-white font-semibold py-3 px-4 w-full rounded transition ease-in-out duration-300 mt-4" 
                [disabled]="!employeeForm.valid">
                Salvar Colaborador
            </button>
        </app-form>
    </div>
</app-sidebar>
